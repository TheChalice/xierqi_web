<div class="image-detail df_frame" id="myimage">
    <div class="loader" ng-if="!date">
        <div class="loader-inner ball-clip-rotate-multiple">
            <div></div>
            <div></div>
        </div>
    </div>

    <div ng-if="date">
        <!--<div class="panel panel-default" style="margin-bottom: 50px">-->
        <!--<div class="panel-heading">-->
        <!--<span class="panel-title">-->
        <!--<span class="icon25 icon25-panel-repository">-->
        <!--</span>&nbsp;&nbsp;{{name}}-->
        <!--</span>-->
        <!--<a class="btn pull-right btn-green"-->
        <!--ng-if="date.status.tags.length>0"-->
        <!--ng-disabled=false-->
        <!--ui-sref="console.service_create({namespace:namespace,image:date.status.tags[0].items[0].dockerImageReference+'@'+date.status.tags[0].tag+'@'+date.metadata.name,ports:date.status.tags[0].port})">部署最新版本</a>-->
        <!--<a class="btn pull-right btn-orange"-->
        <!--ng-if="!date.status.tags.length"-->
        <!--ng-disabled=true>暂无最新版本</a>-->
        <!--</div>-->
        <!--<div class="panel-body">-->
        <!--<div class="row">-->
        <!--<div class="col-sm-4">-->
        <!--<div class="media media-sm">-->
        <!--<div class="media-left">-->
        <!--<i class="fa fa-clock-o fa-2x"></i>-->
        <!--</div>-->
        <!--<div class="media-body">-->
        <!--<h4 class="media-heading">更新时间</h4>-->
        <!--<small uib-tooltip="{{date.status.tags[0].items[0].created | timescon}}">-->
        <!--{{date.status.tags[0].items[0].created | dateRelative}}-->
        <!--</small>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--<div class="col-sm-4">-->
        <!--<div class="media media-sm">-->
        <!--<div class="media-left">-->
        <!--<i class="fa fa-flag-o fa-2x"></i>-->
        <!--</div>-->
        <!--<div class="media-body">-->
        <!--<h4 class="media-heading">最新版本</h4>-->
        <!--<small>-->
        <!--<span>-->
        <!--{{name}}:{{date.status.tags[0].tag}}-->
        <!--</span>-->
        <!--</small>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <div class="module-heading">
            <div class="module_block_l">
                <div class="img-block">
                    <svg class="icon svg_img" viewBox="0 0 64 64">
                        <path d="M31.93,0a32,32,0,1,0,32,32A32,32,0,0,0,31.93,0ZM30.19,43.61a2.81,2.81,0,0,1-1.53,2.5l-13.78,4.3a2.79,2.79,0,0,1-.47,0,2.25,2.25,0,0,1-2.25-2.26V16a2.25,2.25,0,0,1,2.25-2.25,2.31,2.31,0,0,1,.47,0L28.25,18h0l.08,0-.08,0a2.83,2.83,0,0,1,1.94,2.68Zm22,4.51a2.25,2.25,0,0,1-2.25,2.26,2.36,2.36,0,0,1-.47,0L35.71,46a2.82,2.82,0,0,1-1.53-2.5V20.59a2.82,2.82,0,0,1,2.07-2.71h0l13.28-4.16a2.8,2.8,0,0,1,.47,0,2.24,2.24,0,0,1,2.25,2.25Z"/>
                        <polygon points="15.43 45.91 26.93 42.85 26.93 21.38 15.43 18.32 15.43 45.91"/>
                    </svg>
                </div>
                <div class="img-detail">
                    <p class="img-tit">{{name}}</p>
                    <!--<p class="img-time">-->
                    <!--<span classs="module_tit">创建时间：</span>-->
                    <!--<span class="module_time">{{date.status.tags[0].items[itemsCurIdx].created | timescon}}</span>-->
                    <!--</p>-->
                    <p class="img-new">
                        <span class="module_tit">最新版本：</span>
                        <span class="module_time">{{name}}:{{date.status.tags[0].tag}}</span>
                    </p>
                    <p class="img-new">
                        <span class="module_tit">创建时间：</span>
                        <span class="module_time">{{date.metadata.creationTimestamp | timescon}}</span>
                    </p>
                </div>

            </div>
            <div class="module_block_r">
                <a class="btn pull-right btn-green"
                   style="height: 26px;line-height: 26px;padding: 0px 12px; font-size: 12px;"
                   ng-if="date.status.tags.length>0" ng-disabled=false
                   ui-sref="console.service_create({imagetype:'myimage',namespace:namespace,imagename:date.metadata.name,imagetag:date.status.tags[0].tag,image:date.status.tags[0].items[0].dockerImageReference,message:date.status.tags[0].message})">
                    部署最新版本
                </a>
                <a class="btn pull-right btn-orange df_build" style="margin-right: 5px;display: none"  ng-click="editYaml()">编辑YAML</a>
                <a class="btn pull-right btn-orange"
                   style="height: 26px;line-height: 26px;padding: 0px 12px; font-size: 12px;"
                   ng-if="!date.status.tags.length" ng-disabled=true>暂无最新版本</a>
            </div>
        </div>
        <div>
            <uib-tabset class="tab-default">
                <uib-tab index="1" ng-if="false">
                    <uib-tab-heading>
                        <!-- <i class="fa fa-file-o fa-lg"></i>&nbsp;&nbsp; -->
                        概览
                    </uib-tab-heading>
                    <!--<div marked="readme || '暂无介绍'"></div>-->
                </uib-tab>
                <uib-tab index="2">
                    <uib-tab-heading>
                        <!-- <i class="fa fa-file-text-o fa-lg"></i>&nbsp;&nbsp; -->
                        镜像版本
                    </uib-tab-heading>
                    <div class="timeline">
                        <ul>
                            <li ng-repeat="item in date.status.tags">
                                <label uib-tooltip="{{item.items[0].created | timescon}}">
                                    <span class="dot"></span>&nbsp;&nbsp;&nbsp;&nbsp;
                                    {{item.items[0].created | dateRelative}}
                                </label>
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div style='white-space:nowrap;overflow: hidden;text-overflow: ellipsis'>
                                                <i class="fa fa-flag-o"></i>&nbsp;
                                                <!--<span ng-if="item.spec.revision.git.ref">-->
                                                <!--<span>{{name}}:{{item.tag}}</span>-->
                                                <a class="ver_tit ng-binding" ui-sref="console.imagetag_detail({namespace:namespace,name:name,tag:item.tag})">{{name}}:{{item.tag}}</a>
                                            </div>
                                        </div>
                                        <div class="col-sm-4"></div>
                                        <div class="col-sm-4 text-right">
                                            <a class="icon25 icon25-download" uib-tooltip="拉取" href="javascript:;"
                                               ng-click="pull(item.tag)"></a>
                                            <a class="icon25 icon25-start" uib-tooltip="部署"
                                               ui-sref="console.service_create({imagetype:'myimage',namespace:namespace,imagename:date.metadata.name,imagetag:date.status.tags[0].tag,image:date.status.tags[0].items[0].dockerImageReference,message:date.status.tags[0].message})">
                                            </a>
                                            <a class="icon25 icon25-delete" uib-tooltip="删除" href="javascript:;"
                                               ng-click="delete($index)"></a>
                                            <!--<a class="icon25 icon25-start" uib-tooltip="部署" ui-sref="console.service_create()"></a>-->
                                        </div>
                                    </div>

                                </div>
                            </li>
                        </ul>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>


</div>
<style>
    #myimage .nav-item .nav-link {
        border: none;
        border-bottom: 2px solid #47B2FB;
        color: #47B2FB;
    }

    .creattime {
        width: 26px;
        height: 26px;
        display: inline-block;
        background: url("pub/img/clock.png") no-repeat;
    }

    .shoucang {
        width: 26px;
        height: 26px;
        display: inline-block;
        background: url("pub/img/shoucang.png") no-repeat;
    }

    .pulls {
        width: 26px;
        height: 26px;
        display: inline-block;
        background: url("pub/img/pull.png") no-repeat;
    }

    .star {
        display: inline-block;
        cursor: pointer;
        width: 13px;
        height: 13px;
        background: url("pub/img/star.png");
    }

    .star:hover {
        background: url("pub/img/starh.png");
    }

    .star.active {
        background: url("pub/img/starh.png");
    }
</style>


