<!-- detail -->
<div id="rc">
    <div class="row matgin-bt">
        <div class="col-md-2">Status:</div>
        <div class="col-md-10">
            <status-icon status="replicaSet | deploymentStatus"></status-icon>
            {{replicaSet | deploymentStatus}}
        </div>
    </div>
    <div class="row matgin-bt">
        <div class="col-md-2">Deployment Config:</div>
        <div class="col-md-10">{{replicaSet.metadata.labels.app}}</div>
    </div>
    <div class="row matgin-bt">
        <div class="col-md-2">Status Reason:</div>
        <div class="col-md-10"><a
                href="#">{{replicaSet.metadata.annotations['openshift.io/deployment.status-reason']}}</a></div>
    </div>
    <div class="row matgin-bt">
        <div class="col-md-2">Selectors:</div>
        <div class="col-md-10"><span ng-repeat="(name , value) in replicaSet.spec.selector">{{name}}={{value}}&nbsp;&nbsp;</span>
        </div>
    </div>
    <div class="row matgin-bt">
        <div class="col-md-2">Replicas:</div>
        <div class="col-md-10">
            <span>{{replicaSet.spec.replicas}} current / {{replicaSet.status.replicas}} desired &nbsp;&nbsp;
                <a href="#" title="Edit" class="action-button">
                    <i class="glyphicon glyphicon-pencil"></i>
                </a>
            </span>
        </div>
    </div>

    <h3>Template</h3>
    <pod-template
            pod-template="replicaSet.spec.template"
            images-by-docker-reference="imagesByDockerReference"
            builds="builds"
            detailed="true"
            add-health-check-url="{{((!deploymentConfig || isActive)) ? healthCheckURL : ''}}">
    </pod-template>

    <h4>Volumes</h4>
    <div ng-if="kind === 'ReplicaSet'">
        <div ng-if="deployment">
            <volumes volumes="replicaSet.spec.template.spec.volumes" namespace="project.metadata.name"></volumes>
            <div ng-if="{ group: 'extensions', resource: 'deployments' }">
                <a ng-href="project/{{project.metadata.name}}/attach-pvc?kind=Deployment&name={{deployment.metadata.name}}&group=extensions">Add Storage</a>
                <span class="action-divider" aria-hidden="true">|</span>
                <a ng-href="project/{{project.metadata.name}}/add-config-volume?kind=Deployment&name={{deployment.metadata.name}}">Add Config Files</a>
            </div>
            <div ng-if="!replicaSet.spec.template.spec.volumes.length && !({ group: 'extensions', resource: 'deployments' })">none</div>
        </div>
        <div ng-if="!deployment">
            <div ng-if="resource">
                <volumes
                        volumes="replicaSet.spec.template.spec.volumes"
                        namespace="project.metadata.name"
                        can-remove="true"
                        remove-fn="removeVolume(volume)">
                </volumes>
                <a ng-href="project/{{project.metadata.name}}/attach-pvc?kind=ReplicaSet&name={{replicaSet.metadata.name}}&group=extensions">Add Storage</a>
                <span class="action-divider" aria-hidden="true">|</span>
                <a ng-href="project/{{project.metadata.name}}/add-config-volume?kind=ReplicaSet&name={{replicaSet.metadata.name}}&group=extensions">Add Config Files</a>
            </div>
            <div ng-if="!(resource)">
                <volumes volumes="replicaSet.spec.template.spec.volumes" namespace="project.metadata.name"></volumes>
                <span ng-if="!replicaSet.spec.template.spec.volumes.length">none</span>
            </div>
        </div>
    </div>
    <div ng-if="kind === 'ReplicationController'">
        <div ng-if="deploymentConfigName">
            <volumes volumes="replicaSet.spec.template.spec.volumes" namespace="project.metadata.name"></volumes>
            <div ng-if="'deploymentconfigs'">
                <a ng-href="project/{{project.metadata.name}}/attach-pvc?kind=DeploymentConfig&name={{deploymentConfigName}}">Add Storage to {{deploymentConfigName}}</a>
                <span class="action-divider" aria-hidden="true">|</span>
                <a ng-href="project/{{project.metadata.name}}/add-config-volume?kind=DeploymentConfig&name={{deploymentConfigName}}">Add Config Files to {{deploymentConfigName}}</a>
            </div>
            <div ng-if="!replicaSet.spec.template.spec.volumes.length && !('deploymentconfigs')">none</div>
        </div>
        <div ng-if="!deploymentConfigName">
            <div ng-if="resource">
                <volumes
                        volumes="replicaSet.spec.template.spec.volumes"
                        namespace="project.metadata.name"
                        can-remove="true"
                        remove-fn="removeVolume(volume)">
                </volumes>
                <a ng-href="project/{{project.metadata.name}}/attach-pvc?kind=ReplicationController&name={{replicaSet.metadata.name}}">Add Storage</a>
                <span class="action-divider" aria-hidden="true">|</span>
                <a ng-href="project/{{project.metadata.name}}/add-config-volume?kind=ReplicationController&name={{replicaSet.metadata.name}}">Add Config Files</a>
            </div>
            <div ng-if="!(resource)">
                <volumes volumes="replicaSet.spec.template.spec.volumes" namespace="project.metadata.name"></volumes>
                <span ng-if="!replicaSet.spec.template.spec.volumes.length">none</span>
            </div>
        </div>
    </div>
    <!-- Autoscaling -->
    <div ng-if="!deploymentConfigName || autoscalers.length">
        <h3>Autoscaling</h3>

        <!-- Show any warnings. -->
        <div ng-repeat="warning in hpaWarnings" class="alert alert-warning">
            <span class="pficon pficon-warning-triangle-o" aria-hidden="true"></span>
            <span class="sr-only">Warning:</span>
            {{warning.message}}

            <!-- If the CPU request is missing, add an action to set one. -->
            <span ng-if="warning.reason === 'NoCPURequest'">
      <!-- Prompt to set CPU request on the DC if this is a deployment. -->
      <a ng-href="project/{{projectName}}/set-limits?kind=DeploymentConfig&name={{deploymentConfigName}}"
         ng-if="deploymentConfigName && !deploymentConfigMissing && ('deploymentconfigs')"
         role="button">Edit Resource
        <span ng-if="!('cpu' | isRequestCalculated : project)">Requests and</span> Limits</a>
                <!-- Prompt to set CPU request on the RC if not a deployment. -->
      <a ng-href="project/{{projectName}}/set-limits?kind=ReplicationController&name={{replicaSet.metadata.name}}"
         ng-if="!deploymentConfigName && kind === 'ReplicationController' && (resource)"
         role="button">Edit Resource
        <span ng-if="!('cpu' | isRequestCalculated : project)">Requests and</span> Limits</a>
      <a ng-href="project/{{projectName}}/set-limits?kind=ReplicaSet&name={{replicaSet.metadata.name}}&group=extensions"
         ng-if="!deploymentConfigName && kind === 'ReplicaSet' && (resource )"
         role="button">Edit Resource
        <span ng-if="!('cpu' | isRequestCalculated : project)">Requests and</span> Limits</a>
    </span>
        </div>

        <!-- Create autoscaler -->
        <div ng-if="!autoscalers.length">
    <span ng-if="{resource: 'horizontalpodautoscalers', group: 'autoscaling'}">
      <a ng-if="replicaSet.kind === 'ReplicaSet' && !deployment"
         ng-href="project/{{projectName}}/edit/autoscaler?kind=ReplicaSet&name={{replicaSet.metadata.name}}&group=extensions"
         role="button">Add Autoscaler</a>
      <a ng-if="replicaSet.kind === 'ReplicaSet' && deployment"
         ng-href="project/{{projectName}}/edit/autoscaler?kind=Deployment&name={{deployment.metadata.name}}&group=extensions"
         role="button">Add Autoscaler</a>
      <a ng-if="replicaSet.kind === 'ReplicationController' && !deploymentConfigName"
         ng-href="project/{{projectName}}/edit/autoscaler?kind=ReplicationController&name={{replicaSet.metadata.name}}"
         role="button">Add Autoscaler</a>
      <a ng-if="replicaSet.kind === 'ReplicationController' && deploymentConfigName"
         ng-href="project/{{projectName}}/edit/autoscaler?kind=DeploymentConfig&name={{deploymentConfigName}}"
         role="button">Add Autoscaler</a>
    </span>
            <span ng-if="!({resource: 'horizontalpodautoscalers', group: 'autoscaling'})">
      Autoscaling is not enabled. There are no autoscalers for this
      <span ng-if="deploymentConfigName">deployment config or deployment.</span>
      <span ng-if="!deploymentConfigName">{{replicaSet.kind | humanizeKind}}.</span>
    </span>
        </div>

        <!-- HPA details -->
        <div ng-repeat="hpa in autoscalers | orderBy : 'name'">
            <hpa hpa="hpa"
                 show-scale-target="hpa.spec.scaleTargetRef.kind !== 'ReplicationController'"
                 alerts="alerts">
            </hpa>
        </div>
    </div>
    <h4 style="padding:15px 0;color:#666;">Pods</h4>
    <div class="table-responsive" style="margin-top: 20px;">
        <table class="table table-hover table-default">
            <tr>
                <th style="vertical-align: middle;padding-top:13px;padding-bottom:13px;">Name</th>
                <th style="vertical-align: middle;padding-top:13px;padding-bottom:13px;">Status</th>
                <th style="vertical-align: middle;padding-top:13px;padding-bottom:13px;">Containers Ready</th>
                <th style="vertical-align: middle;padding-top:13px;padding-bottom:13px;">Containers Restart</th>
                <th style="vertical-align: middle;padding-top:13px;padding-bottom:13px;">Age</th>
            </tr>
            <tr ng-repeat="pod in replicaPods">
                <td data-title="Name"
                    style="white-space:nowrap;text-overflow:ellipsis;-o-text-overflow:ellipsis;overflow: hidden;display:block">
                    <!-- <a class="href-orange" ui-sref="console.service_detail({name: pod.metadata.name})">
                        {{pod.metadata.name}}
                    </a> -->
                    <a class="href-orange" ui-sref="console.pods_detail({name: pod.metadata.name})">
                        {{pod.metadata.name}}
                    </a>
                </td>
                <td data-title="Status">
                    <!-- {{pod.status}} -->
                    <status-icon status="pod | podStatus" disable-animation></status-icon>
                    <span flex>{{pod | podStatus | humanizePodStatus}}</span>
                </td>
                <td data-title="Ready">
                    {{pod | numContainersReady}}/{{pod.spec.containers.length}}
                </td>
                <td data-title="Restarts">{{pod | numContainerRestarts}}</td>
                <td data-title="Age"><span uib-tooltip="{{pod.metadata.creationTimestamp | timescon}}">{{pod.metadata.creationTimestamp  | dateRelative}}</span>
                </td>
            </tr>
            <tr>
                <td colspan="7" style="text-align: center;background: #fff;position:relative" ng-if="items.length===0">
                    <p class="blank_block"><span class="blank_tit"> {{text}}</span></p>
                </td>
            </tr>
        </table>
        <div class="text-center" style="text-align:center;" ng-if="grid.total > 10">
            <uib-pagination class="pagination" ng-model="grid.page" total-items="grid.total" items-per-page="grid.size"
                            class="pagination-sm" boundary-links="false" max-size="12" rotate="true" previous-text="<"
                            next-text=">">
            </uib-pagination>
        </div>
    </div>
</div>