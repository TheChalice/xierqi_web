<div id="pipeline-detail" class="pipeline-detail df_frame" style="color: #475669; font-size: 12px;">
    <div class="panel panel-default panel_marginBottom" style="">
        <div class="module-heading">
            <div class="module_block_l">
                <div class="img-block">
                    <svg class="icon svg_img" viewBox="0 0 64 64"><path d="M32.07,0a32,32,0,1,0,32,32A32,32,0,0,0,32.07,0Zm-10,39.17A2.28,2.28,0,0,1,22,42.41a2.25,2.25,0,0,1-1.71.71,2.35,2.35,0,0,1-1.71-.71s-9.81-9.52-9.66-9.52A2.35,2.35,0,0,1,8.18,31,2.48,2.48,0,0,1,9,29.33l9.81-8.1A2.42,2.42,0,1,1,22,24.93l-7.67,6.54ZM39.16,24.36,29.21,42a2.64,2.64,0,0,1-2.13,1.28A2.68,2.68,0,0,1,25.95,43a2.36,2.36,0,0,1-.85-3.27L35,22.09a2.36,2.36,0,0,1,3.27-.85A2.14,2.14,0,0,1,39.16,24.36Zm6.25,18.19a3,3,0,0,1-1.71.71A2.35,2.35,0,0,1,42,42.55a2.59,2.59,0,0,1,0-3.41l7.82-7.67-7.67-6.54a2.42,2.42,0,0,1,3.13-3.7l9.81,8.1A2,2,0,0,1,55.93,31a2,2,0,0,1-.71,2Z"/></svg>
                </div>
                <div class="img-detail">
                    <p class="img-tit">{{buildSet.metadata.name}}</p>
                    <p class="img-time">
                        <span classs="module_tit">创建时间：</span><span class="module_time">{{buildSet.metadata.creationTimestamp | dateRelative}}</span>
                    </p>
                </div>

            </div>
            <div class="module_block_r">
                <a class="btn btn-gray pull-right btn_a df_del" style="" ng-click="deletePipeTag(buildSet.metadata.name)">
                    <!-- <i class="fa fa-trash-o fa-lg"></i> -->
                    <span class="df_close"><i class="uex-icon-delete"></i></span>
                </a>
            </div>
        </div>
    </div>





    <uib-tabset class="tab-default tab-jia-default" active="active">
        <uib-tab index="1">
            <uib-tab-heading>
                Details
            </uib-tab-heading>
            <div>
                <h3 class="subtitle">Status</h3>
                <div class="row matgin-txt">
                    <div class="col-md-2">Status:</div>
                    <div class="col-md-10">
                        <status-icon status="buildSet.status.phase"></status-icon>
                        <span ng-if="!buildSet.status.message || buildSet.status.phase === 'Cancelled'">{{buildSet.status.phase}}</span>
                        <span ng-if="buildSet.status.message && buildSet.status.phase !== 'Cancelled'">{{buildSet.status.message}}</span>
                        <span ng-if="buildSet | jenkinsLogURL">
                            <span class="text-muted">&ndash;</span>
                            <a ng-href="{{buildSet | jenkinsLogURL}}" target="_blank">View Log</a>
                        </span>
                    </div>
                </div>
                <div class="row matgin-txt">
                    <div class="col-md-2">Started:</div>
                    <div class="col-md-10">
                        <span ng-if="buildSet.status.startTimestamp">
                            <span am-time-ago="build.status.startTimestamp"></span>
                            <span><span class="text-muted">&ndash;</span> {{buildSet.status.startTimestamp | date : 'medium'}}</span>
                        </span>
                        <span ng-if="!buildSet.status.startTimestamp"><em>not started</em></span>
                    </div>
                </div>
                <div class="row matgin-txt">
                    <div class="col-md-2">Duration:</div>
                    <div class="col-md-10">
                        <span ng-switch="buildSet.status.phase" class="hide-ng-leave">
                            <span ng-switch-when="Complete">{{(buildSet.status.startTimestamp || buildSet.metadata.creationTimestamp) | duration : buildSet.status.completionTimestamp}}</span>
                            <span ng-switch-when="Failed">{{buildSet.status.startTimestamp | duration : buildSet.status.completionTimestamp}}</span>
                            <span ng-switch-when="Running">running for <duration-until-now
                                    timestamp="buildSet.status.startTimestamp"></duration-until-now></span>
                            <span ng-switch-when="Pending">waiting for
                                <duration-until-now
                                    timestamp="buildSet.metadata.creationTimestamp"></duration-until-now></span>
                            <span ng-switch-when="New">waiting for {{buildSet.metadata.creationTimestamp | dateRelative}}
                            </span>
                            <span ng-switch-default>
                                <span ng-if="buildSet.status.startTimestamp">{{buildSet.status.startTimestamp | duration : buildSet.status.completionTimestamp}}</span>
                                <span ng-if="!buildSet.status.startTimestamp">waited for {{buildSet.metadata.creationTimestamp | duration : buildSet.status.completionTimestamp}}</span>
                            </span>
                        </span>
                    </div>
                </div>
                <div class="row matgin-txt">
                    <div class="col-md-2">Triggered By:</div>
                    <div class="col-md-10">
                        <div ng-repeat="trigger in buildSet.spec.triggeredBy">
                            <div ng-switch="trigger.message">
                                <span ng-switch-when="Manually triggered">Manual build</span>
                                <span ng-switch-when="GitHub WebHook">
                                    <ng-include src=" 'views/_webhook-trigger-cause.html' "></ng-include>
                                </span>
                                <span ng-switch-when="Generic WebHook">
                                    <ng-include src=" 'views/_webhook-trigger-cause.html' "></ng-include>
                                </span>
                                <span ng-switch-when="Image change">
                                    {{trigger.message}} for {{trigger.imageChangeBuild.fromRef.name}}
                                </span>
                                <span ng-switch-default ng-bind-html="trigger.message | linkify : '_blank'"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <h3 class="subtitle" >Configuration</h3>
                <div class="row matgin-txt">
                    <div class="col-md-2">Build Strategy:</div>
                    <div class="col-md-10">{{buildSet.spec.strategy.type | startCase}}</div>
                    <div ng-if-start="(buildSet | buildStrategy).from">Builder Image:</div>
                    <div ng-if-end class="truncate">{{(buildSet | buildStrategy).from | imageObjectRef :
                        buildSet.metadata.namespace}}<span ng-if="!(buildSet | buildStrategy).from"><em>none</em></span>
                    </div>
                    <div class="col-md-2">Source Type:</div>
                    <div class="col-md-10">{{buildSet.spec.source.type}}</div>
                    <div class="col-md-2" ng-if-start="buildSet.spec.source.git.uri">Source Repo:</div>
                    <div class="col-md-10" ng-if-end><span class="word-break"><osc-git-link
                            uri="build.spec.source.git.uri"
                            ref="build.spec.source.git.ref"
                            context-dir="build.spec.source.contextDir">{{buildSet.spec.source.git.uri}}</osc-git-link></span>
                    </div>
                    <div class="col-md-2" ng-if-start="buildSet.spec.source.git.ref">Source Ref:</div>
                    <div class="col-md-10" ng-if-end>{{buildSet.spec.source.git.ref}}</div>
                    <div class="col-md-2" ng-if-start="buildSet.spec.source.contextDir">Source Context Dir:</div>
                    <div class="col-md-10" ng-if-end>{{buildSet.spec.source.contextDir}}</div>
                    <div class="col-md-2" ng-if-start="buildSet.spec.revision.git.commit">Source Commit:</div>
                    <div class="col-md-10" ng-if-end>
                        {{buildSet.spec.revision.git.message}}
                        <osc-git-link
                                class="hash"
                                uri="build.spec.source.git.uri"
                                ref="build.spec.revision.git.commit">{{buildSet.spec.revision.git.commit | limitTo:7}}
                        </osc-git-link>
                        <span ng-if="buildSet.spec.revision.git.author">
                            authored by {{buildSet.spec.revision.git.author.name}}
                        </span>
                    </div>
                </div>
                <div class="row matgin-txt">
                    <div class="col-md-2">Jenkinsfile:</div>
                    <div class="col-md-10">
                        &nbsp;
                    </div>
                    <div style="height:400px; border: 1px solid #8b8d8f;margin:20px 15px 0 15px;" ui-ace="{
                        mode: 'groovy',
                        theme: 'eclipse',
                        showGutter: false,
                        rendererOptions: {
                          fadeFoldWidgets: true,
                          highlightActiveLine: false,
                          showPrintMargin: false
                        },
                        advanced: {
                          highlightActiveLine: false
                        }
                    }" readonly ng-model="buildSet.spec.strategy.jenkinsPipelineStrategy.jenkinsfile" class="ace-bordered ace-inline ace-read-only">
                    </div>
                </div>
                </div>
        </uib-tab>
        <!--<uib-tab index="2">-->
            <!--<uib-tab-heading>-->
                <!--Events-->
            <!--</uib-tab-heading>-->
            <!--<deployments-event dcname="buildSet.metadata.name" dcfit="Build"></deployments-event>-->
        <!--</uib-tab>-->
    </uib-tabset>
</div>

