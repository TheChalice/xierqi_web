<div style="font-size: 12px;padding:20px; margin-top:50px;">
    <div class="panel" style="padding:20px 10px 20px 20px" confull-height>
        <div class="create_deploy_nanji">
            <uib-tabset class="tab-default" active="check">
                <uib-tab index="1" ng-click="selectImageUpload()">
                    <uib-tab-heading>
                        <!-- <i class="myimage"></i>&nbsp;&nbsp; -->
                        镜像上传
                    </uib-tab-heading>
                    <h3 class="df_tit" style="margin-bottom: 20px;">镜像上传</h3>
                    <div class="row" style="margin:0;">
                        <div class="col-md-2 require" style="width: 105px;padding-right: 0px;">
                            tar文件上传
                        </div>
                        <div class="col-md-10">
                            <input type="text" class="upload_input" ng-model="file.name" readonly=""
                                   ng-disabled="disabled"
                                   style="width: 272px;height: 26px;line-height: 26px;border-radius: 4px;background: #ececec;cursor: no-drop;padding: 0px 12px;">
                            <a class="btn"
                               style="border: 1px solid #47B2FB; color: #47B2FB;font-size: 12px;padding:3px 12px;margin-left: 5px;"
                               ngf-select
                               ngf-reset-model-on-click="false"
                               ngf-pattern="'.tar'"
                               ngf-accept="'.tar'"
                               ng-model="file"
                               ngf-model-options="{updateOn: 'change drop dropUrl paste', allowInvalid: false, debounce: 0}"
                               name="file"
                               ngf-max-total-size="10GB">选择tar文件
                            </a>
                        </div>

                    </div>
                    <div class="row chang-image-box" style="margin-top:20px;padding-bottom: 10px;">
                        <div class="col-md-2 require" style="padding-right: 0px;width: 105px;">
                            镜像地址
                        </div>
                        <div class="col-md-10 create_deploy_nanji">
                            <uib-tabset class="tab-default" active="check">
                                <uib-tab index="1" select="changenewimage(1)">
                                    <uib-tab-heading>
                                        <!-- <i class="myimage"></i>&nbsp;&nbsp; -->
                                        选择镜像
                                    </uib-tab-heading>
                                    <div class="input-group divradio">
                                        <div>
                                            <div style="min-width: 156px;margin-bottom:5px;margin-right: 47px;display: inline-block;">
                                                image stream
                                            </div>
                                            <div style="min-width: 156px;margin-bottom:5px;display: inline-block;">标签
                                            </div>
                                        </div>
                                        <div>
                                            <div class="dropdown dropdown-select"
                                                 style="min-width: 167px;height: 26px;margin-right: 36px;">
                                                <button class="btn dropdown-toggle" data-toggle="dropdown"
                                                        style="height: 26px;padding: 0px 12px;">
                                                    <span>{{grid.name}}</span>
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu onbehalf-list"
                                                    style="max-height: 200px; overflow-y:scroll">
                                                    <li ng-repeat="reg in myis">
                                                        <a href="javascript:;" style="height: 26px;line-height: 26px;"
                                                           ng-click='changename(reg)'>{{reg.metadata.name}}</a>
                                                    </li>
                                                </ul>

                                            </div>
                                            <div class="dropdown dropdown-select"
                                                 style="min-width: 167px;height: 26px;margin-right: 5px;"
                                                 ng-show="!isselect">
                                                <button class="btn dropdown-toggle" data-toggle="dropdown"
                                                        style="height: 26px;padding: 0px 12px;">
                                                    <span>{{grid.tag}}</span>
                                                    <span class="caret"></span>
                                                </button>
                                                <ul class="dropdown-menu onbehalf-list"
                                                    style="max-height: 200px; overflow-y:scroll">
                                                    <li ng-repeat="tag in myistag">
                                                        <a href="javascript:;" style="height: 26px;line-height: 26px;"
                                                           ng-click='changetag(tag)'>{{tag.tag}}</a>
                                                    </li>
                                                </ul>

                                            </div>
                                            <div style="width: 167px; display: inline-block;margin-right: 5px;"
                                                 ng-show="!isOK">
                                                <input type="text" ng-model="grid.tag"
                                                       ng-disabled="!deadlineMinutesEnable" placeholder="latest"
                                                       style="width: 167px;height: 26px;line-height: 26px;border-radius: 4px;padding:0px 12px;">
                                            </div>
                                            <a href="javascript:void(0);" ng-click="save()">
                        <span class="fa fa-orange" style="padding-bottom: 7px;"
                              ng-class="{'fa-pencil': !deadlineMinutesEnable, 'fa-times-circle': deadlineMinutesEnable}"></span>
                                            </a>

                                        </div>


                                    </div>
                                </uib-tab>
                                <uib-tab index="2" select="changenewimage(2)">
                                    <uib-tab-heading>
                                        <!-- <i class="myimage"></i>&nbsp;&nbsp; -->
                                        新建镜像
                                    </uib-tab-heading>
                                    <div class="input-group divradio">
                                        <div>
                                            <div style="min-width: 167px;margin-bottom:5px;margin-right: 36px;display: inline-block;">
                                                image stream
                                            </div>
                                            <div style="min-width: 167px;margin-bottom:5px;display: inline-block;">标签
                                            </div>
                                        </div>
                                        <div>
                                            <div style="width: 167px;height: 26px;display: inline-block;margin-right: 36px;">
                                                <input ng-class="{'err':grid.imagenamenull}" type="text"
                                                       ng-model="grid.name" placeholder="镜像名称"
                                                       style="width: 167px;height: 26px;line-height: 26px;border-radius: 4px;padding:0px 12px;">
                                            </div>
                                            <div style="width: 167px;height: 26px;display: inline-block;">
                                                <input type="text" ng-model="grid.tag" placeholder="latest"
                                                       style="width: 167px;height: 26px;line-height: 26px;border-radius: 4px;padding:0px 12px;">
                                            </div>

                                        </div>


                                    </div>
                                </uib-tab>
                            </uib-tabset>
                        </div>
                    </div>
                    <div class="modal fade" id="myModal" role="dialog" aria-labelledby="myModalLabel"
                         aria-hidden="true">
                        <div class="modal-dialog" style="margin-top:110px;">
                            <div class="modal-content" style="height: 251px;padding:20px;">
                                <div style="margin-top:77px;text-align: center;">
                                    <p>上传进度{{grid.progress||0}}%</p>
                                    <div class="progress" style="height: 2px;">

                                        <div class="progress-bar" role="progressbar" aria-valuenow="60"
                                             aria-valuemin="0" aria-valuemax="100"
                                             style="width:{{grid.progress || 0}}%;background: #47B2FB;height: 2px;">

                                        </div>
                                    </div>
                                    <p style="color: #A2B0C4;">请勿跳转或刷新页面</p>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-show="false"
                                            id="close-this">

                                    </button>
                                </div>
                            </div><!-- /.modal-content -->
                        </div><!-- /.modal -->
                    </div>
                    <button ng-show="false" id="myModalBtn" class="btn btn-primary btn-lg" data-toggle="modal"
                            data-target="#myModal"></button>
                    <small ng-show="grid.imagenamenull" class="fa fa-info-circle err-tip">镜像名称不能为空
                    </small>
                </uib-tab>
                <uib-tab index="2" ng-click="selectManualUpload()">
                    <uib-tab-heading>
                        <!-- <i class="myimage"></i>&nbsp;&nbsp; -->
                        手动上传
                    </uib-tab-heading>
                    <h3 class="df_tit" style="margin-bottom: 20px;">手动上传</h3>
                    <div style="padding-left: 15px;color: #475669;">
                        <p>
                            给docker daemon
                        </p>
                        <p>
                            添加启动参数 --insecure-registry {{handupload.addr}}并重新启动 docker 服务
                        </p>
                        <p>
                            $ sudo docker login -u {{handupload.namespace}} -p {{handupload.token}} {{handupload.addr}}
                        </p>
                        <p>
                            $ sudo docker tag &lt;MYIMAGE&gt; {{handupload.addr}}/{{handupload.namespace}}/&lt;IMAGE&gt;:&lt;TAG&gt;
                        </p>
                        <p>
                            $ sudo docker push {{handupload.addr}}/{{handupload.namespace}}/&lt;IMAGE&gt;:&lt;TAG&gt;
                        </p>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
        <div style="position: absolute;bottom:0px;border-top: 1px solid #E0E6ED;height: 70px;width: 100%;" ng-show="isHide">
            <a ng-click="submit(file)"
               class="btn"
               style="background: #47B2FB;padding: 0px 12px; height: 26px;line-height: 26px;font-size: 12px;margin-top:20px;">
                <span style="color: white;">镜像上传</span>
            </a>
            <!--<a ng-show="grid.clickbtn==='canclick'" ng-click="submit(file)"-->
            <!--class="btn" style="background: #47B2FB;padding: 0px 12px; height: 26px;line-height: 26px;font-size: 12px;margin-top:20px;">-->
            <!--<span style="color: white;">镜像上传</span>-->
            <!--</a>-->
            <!--<a ng-show="grid.clickbtn==='inhand'" style="background-color: #ccc;cursor: no-drop;padding: 0px 12px; height: 26px;line-height: 26px;font-size: 12px;margin-top:20px;"-->
            <!--class="btn">-->
            <!--<span style="color: white;">处理中...</span>-->
            <!--</a>-->

            <!--<a ng-show="grid.clickbtn==='dontclick'" style="background-color: #ccc;cursor: no-drop;padding: 0px 12px; height: 26px;line-height: 26px;font-size: 12px;margin-top:20px;"-->
            <!--class="btn">-->
            <!--<span style="color: white;">镜像上传</span>-->
            <!--</a>-->
        </div>
        <!--<div ng-show="grid.clickbtn">上传进度{{grid.progress}}%</div>-->

        <!--<small ng-show="grid.clickbtn==='inhand'" class="fa fa-info-circle err-tip">镜像处理中，请勿刷新或跳转页面-->
        <!--</small>-->
    </div>

    <!--<small ng-show="grid.clickbtn==='dontclick'" class="fa fa-info-circle err-tip">镜像上传中，请勿刷新或跳转页面-->
    <!--</small>-->

</div>