<div id='config-detail' class="config-detail df_frame" confull-height>
    <div class="loader" ng-show="!volume">
        <div class="loader-inner ball-clip-rotate-multiple">
            <div></div>
            <div></div>
        </div>
    </div>
    <div ng-show="volume" >
        <!-- module common 公共-->
        <div class="module-heading" >
            <div class="module_block_l">
                <div class="img-block"></div>
                <div class="img-detail">
                    <p class="img-tit">{{volume.metadata.name}}</p>
                    <p class="img-time">
                        <span classs="module_tit">创建时间：</span>
                        <span class="module_time">
                                    {{volume.metadata.creationTimestamp | timescon}}</span>
                    </p>
                </div>
            </div>
            <div class="module_block_r">
                <a class="btn btn-gray pull-right"
                   style=" padding: 6px 12px; margin-left: 15px;font-size:14px;"
                   ng-click="delete()">
                    <i class="uex-icon-delete"></i>
                </a>
            </div>
        </div>
        <!-- module common 公共-->
        <uib-tabset class="tab-default tab-jia-default" active="active">
            <uib-tab index="1">
                <uib-tab-heading>
                    配置卷信息
                </uib-tab-heading>
                <div style="border: solid 1px #E0E6ED;margin-bottom: 10px;" ng-repeat="item in volume.configarr">
                    <div class="row" style="margin: 0;">
                        <div style="padding: 15px;border-radius: 2px;">
                            <p class="create_secret_key">
                                <span>键</span>
                                <span ng-click="deleteOriginkv($index)" class="create_secret_delete">
                                    <i class="uex-icon-delete"></i>
                                </span>
                            </p>
                            <p class="create_secret_content_p">
                                <input class="create_secret_content_ipt" type="text" placeholder="请输入键"
                                       ng-model="item.key">
                            </p>
                            <p class="create_secret_content_p create_secret_content_addfile">
                                <span>值</span>
                                <span class="create_secret_delete" ng-click="clearOriginCode($index)">清空代码</span>
                            </p>
                            <p class="create_secret_content_p">
                                <textarea ng-model="item.value" class="testt"></textarea>
                            </p>
                        </div>
                    </div>
                </div>
                <div style="border: solid 1px #E0E6ED;margin-top: 10px;margin-bottom: 10px;" ng-repeat="item in volume.configitems">
                    <div class="row" style="margin: 0;">
                        <div style="padding: 15px;border-radius: 2px;">
                            <p class="create_secret_key">
                                <span>键</span>
                                <span ng-click="deletekv($index)" class="create_secret_delete">
                                    <i class="uex-icon-delete"></i>
                                </span>
                            </p>
                            <p class="create_secret_content_p">
                                <input class="create_secret_content_ipt"
                                       ng-class="{'err':item.err.key.repeated||item.err.key.rexed||item.err.key.nil}"
                                       type="text" placeholder="请输入键"
                                       ng-model="item.key">
                            </p>
                            <small ng-if="item.err.key.nil" class="err-tip">
                                <i
                                        class="fa fa-info-circle"></i>&nbsp;key值为空
                            </small>
                            <small ng-if="item.err.key.rexed" class="err-tip">
                                <i
                                        class="fa fa-info-circle"></i>&nbsp;key值不合法
                            </small>
                            <small ng-if="item.err.key.repeated" class="err-tip">
                                <i
                                        class="fa fa-info-circle"></i>&nbsp;key值重复
                            </small>
                            <p class="create_secret_content_p create_secret_content_addfile">
                                <span>值</span>
                                <span class="create_secret_add" ng-click="addFile($index)">
                                    <i class="uex-icon-add" style="margin-right: 5px;"></i>
                                    添加文件
                                    <input type="file" id="file-input" class="upload_addfile upLoadFile" value="选择"/>
                                </span>
                                <span class="create_secret_delete" ng-show="item.isClearCode"
                                      ng-click="clearCode($index)">清空代码</span>
                            </p>
                            <p class="create_secret_content_p">
                                <textarea ng-model="item.value" class="testt"></textarea>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-left: 0;">
                    <div class="col-sm-12" style="padding-left: 0;" ng-click="AddConfigurationFile()">
                        <!--<span class="uex-icon-add" style="cursor:pointer;font-size: 12px;color: #47B2FB;">添加配置文件</span>-->
                        <span style="cursor:pointer;font-size: 12px;color: #47B2FB;">
                            <i class="uex-icon-add" style="margin-right: 5px;"></i>添加配置文件</span>
                    </div>
                </div>
            </uib-tab>
        </uib-tabset>
        <div class="creatfooter" style="">
            <a href="javascript:;" class="btn create btn-resources"
               style="background-color: #47B2FB;margin: 0 auto; color: white; "
               ng-click="cearteconfig()">保存修改</a>
        </div>
        <!--<div style="width: 100%;height: 1px;border: solid 1px #e0e6ed"></div>-->

        <!--<a href="javascript:;" ng-if="!grid.configpost" disabled="disabled" class="btn create btn-resources"-->
           <!--style="background-color: #ccc; margin: 0 auto; margin-top: 20px; color: white; ">保存修改</a>-->
    </div>
</div>
<style>
    #config-detail #file-input {
        position: absolute;
        right: 0;
        top: 0;
        opacity: 0;
        filter: alpha(opacity=0);
        width: 110px;
        height: 24px
    }
    #config-detail .err {
        border: 1px solid red;
    }
    .diantiao:hover {
        background-color: #f7f8fb;
    }

    .diantiao input:hover {
        border: 1px solid #47B2FB;
    }

    .diantiao input:active {
        border: 1px solid #47B2FB;
    }

    /*#config-detail .tab-default li.active .nav-link,*/
    /*#config-detail .tab-default li.active .nav-link:focus,*/
    /*#config-detail .tab-default li.active .nav-link:hover {*/
        /*border: 1px solid #c9c9c9;*/
        /*border-bottom: none;*/
        /*border-radius: 2px 2px 0 0;*/
    /*}*/

    #file-input {
        position: absolute;
        right: 0;
        top: 0;
        opacity: 0;
        filter: alpha(opacity=0);
        width: 250px;
        height: 40px;
        cursor: pointer;
    }

    #config-detail .tab-default li.active .nav-link,
    #config-detail .tab-default li.active .nav-link:focus,
    #config-detail .tab-default li.active .nav-link:hover {
        height: 34px;
        width: 78px;
        padding: 10px 6px;
        border: none;
        border-bottom: 3px solid #47B2FB;
        color: #47B2FB;
    }

    /*------*/
    #config-detail .create_secret_key {
        width: 100%;
        margin: 0;
        font-size: 12px;
    }

    #config-detail .create_secret_delete {
        cursor: pointer;
        font-size: 12px;
        float: right;
        color: #47B2FB;
    }

    #config-detail .create_secret_add {
        cursor: pointer;
        font-size: 12px;
        color: #47B2FB;
    }

    #config-detail .create_secret_content_p {
        width: 100%;
        margin: 5px 0 0;
        font-size: 12px;
    }

    #config-detail .create_secret_content_addfile {
        position: relative;
        margin-top: 20px;
    }

    #config-detail .upload_addfile {
        position: absolute;
        left: 2%;
        top: 0;
        cursor: pointer;
        opacity: 0;
        z-index: 10;
    }

    #config-detail .create_secret_content_ipt {
        width: 358px;
        height: 26px;
        border-radius: 4px;
        font-size: 12px;
        color: #A2B0C4;
        padding-left: 10px;
    }
    #config-detail .create_secret_content_ipt:hover{
        border: 1px solid #47B2FB;
    }
    #config-detail .testt {
        padding: 10px;
        font-size: 12px;
        line-height: 20px;
        background: none;
        color: #A2B0C4;
        height: 300px;
        word-break: break-all;
        word-wrap: break-word;
        white-space: pre-wrap;
        display: block;
        max-height: 100px;
        width: 100%;
        max-width: 100%;
        border: solid 1px #e0e6ed;
        resize: none;
    }
</style>