<div id='config-detail' class="config-detail df_frame" confull-height>
    <div class="loader" ng-show="!volume">
        <div class="loader-inner ball-clip-rotate-multiple">
            <div></div>
            <div></div>
        </div>
    </div>
    <div ng-show="volume">
        <!-- module common 公共-->
        <div class="module-heading">
            <div class="module_block_l">
                <div class="img-block">
                        <svg class="icon svg_img" viewBox="0 0 64 64"><path d="M32,0A32,32,0,1,0,64,32,32,32,0,0,0,32,0ZM18.37,12.42a30.16,30.16,0,0,1,8.9-2.14,41.46,41.46,0,0,1,15,1c2.56.65,6.2,1.82,7.48,4.28s-1.28,4.54-3.37,5.58C41.42,23.52,35.49,24,30.1,23.78A35.85,35.85,0,0,1,21,22.42c-2.49-.71-5.59-1.88-6.81-4.22C12.77,15.54,16.35,13.33,18.37,12.42Zm-4.58,9.07c.13,0,.81,1.17,1,1.3a10.77,10.77,0,0,0,2.83,1.56,32.92,32.92,0,0,0,4.92,1.49,46.08,46.08,0,0,0,9.44,1,42.77,42.77,0,0,0,9.57-1,30.19,30.19,0,0,0,5.19-1.69,12.12,12.12,0,0,0,2-1.1A3.39,3.39,0,0,0,50,21.49a13.82,13.82,0,0,1,.07,2.6c.07,1.95,0,3.9,0,5.84,0,1.75.13,3.18-1.21,4.48a12.71,12.71,0,0,1-4,2.34,9.22,9.22,0,0,1-1.21.45,19.06,19.06,0,0,1-2.29.65,43.64,43.64,0,0,1-16.92.39c-1.15-.26-2.36-.45-3.44-.78l-1.21-.39c-2.22-.91-5.8-2.21-6-4.93C13.72,27.85,13.79,27.4,13.79,21.49ZM48.91,49.6a12.71,12.71,0,0,1-4,2.34,9.22,9.22,0,0,1-1.21.45,19.06,19.06,0,0,1-2.29.65,43.64,43.64,0,0,1-16.92.39c-1.15-.26-2.36-.45-3.44-.78l-1.21-.39c-2.22-.91-5.8-2.21-6-4.93-.07-4.28,0-4.74,0-10.65.13,0,.81,1.17,1,1.3a10.77,10.77,0,0,0,2.83,1.56A32.93,32.93,0,0,0,22.63,41a46.08,46.08,0,0,0,9.44,1,42.77,42.77,0,0,0,9.57-1,30.18,30.18,0,0,0,5.19-1.69,12.12,12.12,0,0,0,2-1.1,3.39,3.39,0,0,0,1.21-1.49,13.82,13.82,0,0,1,.07,2.6c.07,1.95,0,3.9,0,5.84C50.13,46.87,50.26,48.3,48.91,49.6Z"/></svg>
                </div>
                <div class="img-detail">
                    <p class="img-tit">{{volume.metadata.name}}</p>
                    <p class="img-time">
                        <span classs="module_tit">创建时间：</span>
                        <span class="module_time">
                                    {{volume.metadata.creationTimestamp | timescon}}</span>
                    </p>
                </div>
            </div>
            <div class="module_block_r">
                <a class="btn btn-gray pull-right df_del"
                   ng-click="delete()">
                    <i class="uex-icon-delete"></i>
                </a>
            </div>
        </div>
        <!-- module common 公共-->
        <uib-tabset class="tab-default tab-jia-default" active="active">
            <uib-tab index="1">
                <uib-tab-heading>
                    配置卷信息
                </uib-tab-heading>
                <div style="border: solid 1px #E0E6ED;margin-bottom: 15px;" ng-repeat="item in volume.configitems">
                    <div class="row" style="margin: 0;">
                        <div style="padding: 15px;border-radius: 2px;">
                            <p class="create_secret_key">
                                <span>键</span>
                                <span ng-click="deletekv($index)" class="create_secret_delete">
                                    <i class="uex-icon-cross"></i>
                                </span>
                            </p>
                            <p class="create_secret_content_p">
                                <input class="create_secret_content_ipt"
                                       ng-class="{'err':item.err.key.repeated||item.err.key.rexed||item.err.key.nil}"
                                       type="text" placeholder="请输入键"
                                       ng-model="item.key">
                            </p>
                            <small ng-if="item.err.key.nil" class="err-tip">
                                <i
                                        class="fa fa-info-circle"></i>&nbsp;key值为空
                            </small>
                            <small ng-if="item.err.key.rexed" class="err-tip">
                                <i
                                        class="fa fa-info-circle"></i>&nbsp;key值不合法
                            </small>
                            <small ng-if="item.err.key.repeated" class="err-tip">
                                <i
                                        class="fa fa-info-circle"></i>&nbsp;key值重复
                            </small>
                            <p class="create_secret_content_p create_secret_content_addfile">
                                <span>值</span>
                                <span class="create_secret_add" ng-click="addFile($index)">
                                    <i class="uex-icon-add"></i>
                                    添加文件
                                    <input type="file" id="file-input" class="upload_addfile upLoadFile" value="选择"/>
                                </span>
                                <span class="create_secret_delete" ng-if="item.value"
                                      ng-click="clearCode($index)">清空代码</span>
                            </p>
                            <p class="create_secret_content_p">
                                <textarea ng-model="item.value" class="testt"></textarea>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-left: 0;line-height: 12px;margin-bottom: 30px;">
                    <div class="col-sm-12" style="padding-left: 0;" ng-click="AddConfigurationFile()">
                        <span style="cursor:pointer;font-size: 12px;color: #47B2FB;">
                            <i class="uex-icon-add" style="margin-right: 5px;"></i>添加配置文件</span>
                    </div>
                </div>
            </uib-tab>
        </uib-tabset>
        <div class="creatfooter" style="">
            <a href="javascript:;" class="btn create btn-resources"
               style="background-color: #47B2FB;margin: 0 auto; color: white; "
               ng-click="cearteconfig()">保存修改</a>
        </div>
    </div>
</div>
<style>
    #config-detail #file-input {
        position: absolute;
        right: 0;
        top: 0;
        opacity: 0;
        filter: alpha(opacity=0);
        width: 110px;
        height: 24px
    }

    #config-detail .err {
        border: 1px solid red;
    }

    .diantiao:hover {
        background-color: #f7f8fb;
    }

    .diantiao input:hover {
        border: 1px solid #47B2FB;
    }

    .diantiao input:active {
        border: 1px solid #47B2FB;
    }

    /*#config-detail .tab-default li.active .nav-link,*/
    /*#config-detail .tab-default li.active .nav-link:focus,*/
    /*#config-detail .tab-default li.active .nav-link:hover {*/
    /*border: 1px solid #c9c9c9;*/
    /*border-bottom: none;*/
    /*border-radius: 2px 2px 0 0;*/
    /*}*/

    #file-input {
        position: absolute;
        right: 0;
        top: 0;
        opacity: 0;
        filter: alpha(opacity=0);
        width: 250px;
        height: 40px;
        cursor: pointer;
    }

    #config-detail .tab-default li.active .nav-link,
    #config-detail .tab-default li.active .nav-link:focus,
    #config-detail .tab-default li.active .nav-link:hover {
        height: 34px;
        width: 78px;
        padding: 10px 6px;
        border: none;
        border-bottom: 3px solid #47B2FB;
        color: #47B2FB;
    }

    /*------*/
    #config-detail .create_secret_key {
        width: 100%;
        margin: 0;
        font-size: 12px;
    }

    #config-detail .create_secret_delete {
        cursor: pointer;
        font-size: 12px;
        float: right;
        color: #47B2FB;
    }

    #config-detail .create_secret_add {
        padding-left: 20px;
        cursor: pointer;
        font-size: 12px;
        color: #47B2FB;
    }

    .create_secret_content_p {
        width: 100%;
        margin: 5px 0 0;
        font-size: 12px;
    }

    .create_secret_content_addfile {
        position: relative;
        margin-top: 20px;
    }

    #config-detail .upload_addfile {
        position: absolute;
        left: 2%;
        top: 0;
        cursor: pointer;
        opacity: 0;
        z-index: 10;
    }

    .create_secret_content_ipt {
        width: 358px;
        height: 26px;
        border-radius: 4px;
        font-size: 12px;
        color: #A2B0C4;
        padding-left: 10px;
    }

    .create_secret_content_ipt:hover {
        border: 1px solid #47B2FB;
    }

    .testt {
        padding: 10px;
        font-size: 12px;
        line-height: 20px;
        background: none;
        color: #A2B0C4;
        height: 300px;
        word-break: break-all;
        word-wrap: break-word;
        white-space: pre-wrap;
        display: block;
        max-height: 100px;
        width: 100%;
        max-width: 100%;
        border: solid 1px #e0e6ed;
        border-radius: 2px;
        resize: none;
    }
</style>