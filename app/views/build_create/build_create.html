<div class="buildcreat" id="newbuildcreat">
    <div>
        <form class="form-horizontal" name="frm">
            <div>
                <div class="panel panel-default build-jia-default">
                    <div class="panel-heading panel-jia-heading ">
                        <span class="panel-title panel-jia-title">新建构建</span>
                    </div>
                    <div class="panel-body panel-block-jia-body">
                        <div class="form-group form-jia-line build-creat-top">
                            <label class="col-sm-2 control-label text-left creat-name-lablel">构建名称</label>
                            <div class="col-sm-10 pr40">
                                <input ng-model="buildConfig.metadata.name"
                                       ng-blur="nameblur()"
                                       onkeypress="if((event.keyCode > 31 && event.keyCode < 44) || (event.keyCode > 46 && event.keyCode < 48) || (event.keyCode > 57 && event.keyCode < 65) || (event.keyCode > 90 && event.keyCode < 97))event.returnValue = false;"
                                       ng-focus="namefocus()"
                                       type="text" name="name" class="form-control creat-name-input"
                                       required
                                       placeholder="例如：datafoundry">
                                <small ng-if="namerr.nil" class="fa fa-info-circle err-tip">请输入正确构建名称
                                </small>
                                <small ng-if="namerr.rexed" class="fa fa-info-circle err-tip">请输入4~30位名称,名称只能包含英文、数字以及“-”(不能以数字开头)
                                </small>
                                <small ng-if="namerr.repeated" class="fa fa-info-circle err-tip">输入的名称已重复
                                </small>
                            </div>
                        </div>
                        <div class="form-group form-jia-line build-creat-center">
                            <label class="col-sm-2 control-label creat-tab-lablel">代码URL</label>
                            <div class="col-sm-10 bc creat-tab" id="bc">
                                <uib-tabset class="tab-default tab-jia-default" active="buildcheck">
                                    <!--gitlab-->
                                    <uib-tab index="1" heading="GitLab">
                                        <div class="tabinfo tab-lab">
                                            <a class="btn pull-right tab-lab-reload" ng-class="{'running':labrunning}"
                                               uib-tooltip="同步代码源"
                                               ng-click="loadOwner('gitlab')">
                                                <i class="fa fa-green fa-lg fa-refresh"></i>
                                            </a>
                                            <img class="tab-lab-img"
                                                 src="views/build_create/img/images02_178.png">
                                    <p class="tab-lab-text">DataFoundry 提供的代码仓库（<a href="https://code.dataos.io"
                                                                                      target="view_window"
                                                                                      class="view-jia-tit">https://code.dataos.io</a>）是可靠的自托管的 Git 项目仓库，
                                    可通过Web 界面进行访问公开的或者私人项目。</p>
                                            <p><a class="view_tit_set" ng-show="needbind.gitlab" ng-click="bindhub('gitlab')">绑定Gitlab</a></p>
                                        </div>
                                    </uib-tab>
                                    <!--github-->
                                    <uib-tab index="2" heading="GitHub">
                                        <!--<uib-tab index="2" heading="GitHub" ng-click="checkdTab(2)">-->
                                        <div class="tabinfo tab-lab">
                                            <a class="btn pull-right tab-lab-reload"
                                               uib-tooltip="同步代码源"
                                               ng-click="loadOwner('github')">
                                                <i class="fa fa-green fa-lg fa-refresh"></i>
                                            </a>
                                            <img class="tab-lab-img"
                                                 src="views/build_create/img/github.png">
                                            <p class="tab-lab-text">Github 于 2008 年上线，目前，除了 Git 代码仓库托管以及基本的 Web 管理界面以外 、 还提供了订阅 、讨论组 、文本渲染 、
                                            在线文件编辑器 、协作图谱（报表） 、代码片段分享（Gist）等功能。</p>
                                            <p><a class="view_tit_set"  ng-show="needbind.github" ng-click="bindhub('github')">绑定Github</a></p>
                                        </div>

                                    </uib-tab>

                                    <uib-tab index="3" heading="Git仓库">
                                        <form class="form-horizontal tab-reg">
                                            <p class="tab-reg-tittle">如果是私有代码库，需要输入用户名口令。</p>
                                            <div class="form-group">
                                                <label for="address"
                                                       class="col-md-3 control-label require tab-reg-label"
                                                >仓库地址</label>
                                                <div class="col-md-9">
                                                    <input type="text" class="form-control tab-reg-input" id="address"
                                                           ng-model="buildConfig.spec.source.git.uri">
                                                    <!--<small class="fa fa-info-circle err-tip">请输入正确仓库地址-->
                                                    <!--</small>-->
                                                </div>
                                            </div>
                                            <div class="form-group tab-reg-div">
                                                <label for="ref" class="col-md-3 control-label tab-reg-label"
                                                >分支/Tag/Commit</label>
                                                <div class="col-md-9">
                                                    <input type="text" placeholder="" class="form-control tab-reg-input"
                                                           id="ref"
                                                           ng-model="buildConfig.spec.source.git.ref">
                                                </div>
                                            </div>
                                            <div class="form-group tab-reg-div">
                                                <label for="dockeraddress" class="col-md-3 control-label tab-reg-label"
                                                >Dockerfile路径</label>
                                                <div class="col-md-9">
                                                    <input type="text" placeholder="" class="form-control tab-reg-input"
                                                           id="dockeraddress"
                                                           ng-model="buildConfig.spec.source.contextDir">
                                                </div>
                                            </div>
                                            <div class="form-group tab-reg-div">
                                                <label for="susername" class="col-md-3 control-label tab-reg-label"
                                                >用户名</label>
                                                <div class="col-md-9">
                                                    <input type="text" class="form-control tab-reg-input" id="susername"
                                                           ng-model="sername.name">
                                                </div>
                                            </div>
                                            <div class="form-group tab-reg-div">
                                                <label for="spwd" class="col-md-3 control-label text-left tab-reg-label"
                                                >口令</label>
                                                <div class="col-md-9">
                                                    <input type="password" class="form-control tab-reg-input" id="spwd"
                                                           ng-model="sername.pwd">
                                                </div>
                                            </div>
                                        </form>
                                    </uib-tab>
                                </uib-tabset>
                                <div class="is-box creat-box" ng-hide=buildcheck==3>
                                    <div class="panel panel-default first col-md-4 box-div" ng-show="buildcheck==1">
                                        <div class="panel-heading">
                                            <img src="views/build_create/img/user.png">
                                            用户/组织
                                        </div>
                                        <div class="panel-body">
                                            <ul>
                                                <li class="labcon" ng-repeat="org in gitload.gitlab">
                                                    <a href="javascript:;" uib-tooltip="{{org.namespace}}"
                                                       ng-class="{'active': grid.org == $index}"
                                                       ng-click="selectorg($index,org)">
                                                        <i class="faa faa-check"></i>&nbsp;&nbsp;{{org.namespace}}
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="panel panel-default first col-md-4 box-div" ng-show="buildcheck==2">
                                        <div class="panel-heading">
                                            <img src="views/build_create/img/user.png">
                                            用户/组织
                                        </div>
                                        <div class="panel-body">
                                            <ul>
                                                <li class="labcon" ng-repeat="org in gitload.github">
                                                    <a href="javascript:;" uib-tooltip="{{org.namespace}}"
                                                       ng-class="{'active': grid.org == $index}"
                                                       ng-click="selectorg($index,org)">
                                                        <i class="faa faa-check"></i>&nbsp;&nbsp;{{org.namespace}}
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="panel panel-default col-md-4 box-div">
                                        <div class="panel-heading">
                                            <img src="views/build_create/img/project.png">
                                            项目
                                        </div>
                                        <div class="panel-body">

                                            <ul style="">
                                                <li class="labcon" ng-repeat="repo in gitdata.repos">
                                                    <a href="javascript:;" uib-tooltip="{{repo.name}}"
                                                       ng-class="{'active': grid.repo == $index}"
                                                       ng-click="selectrepo($index,repo)">
                                                        <i class="faa faa-check"></i>&nbsp;&nbsp;{{repo.name}}
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="panel panel-default third col-md-4">
                                        <div class="panel-heading">
                                            <img src="views/build_create/img/branch.png">
                                            代码分支
                                        </div>
                                        <div class="panel-body">
                                            <ul>
                                                <li class="labcon" ng-repeat="branch in gitdata.branchs">
                                                    <a href="javascript:;" uib-tooltip="{{branch.name}}"
                                                       ng-class="{'active': grid.branch == $index}"
                                                       ng-click="selectbranch($index,branch)">
                                                        <i class="faa faa-check"></i>&nbsp;&nbsp;{{branch.name}}
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <!--<div class="form-group build-creat-foot">-->
                            <!--<label class="col-sm-2 control-label text-left creat-foot-time"-->
                                   <!--style="">构建超时时长</label>-->
                            <!--<div class="col-sm-10">-->
                                <!--<input onkeyup="(this.v=function(){this.value=this.value.replace(/[^0-9]+/,'');}).call(this)"-->
                                       <!--onblur="this.v();" ng-model="completionDeadlineMinutes" name="cdm" min="1"-->
                                       <!--max="60"-->
                                       <!--style="" type="text" class="form-control creat-foot-input">-->
                                <!--<span class="creat-foot-min" style="">分钟</span>-->
                                <!--<span class="font12">&nbsp;&nbsp;请不要超过60分钟</span><br>-->
                                <!--&lt;!&ndash;<small ng-if="timeouted" class="fa fa-exclamation-circle"&ndash;&gt;-->
                                <!--&lt;!&ndash;style="font-size: 12px;color: #ec6941; margin-top: 10px">&nbsp;您设置的时长超过了限制，请重新设置&ndash;&gt;-->
                                <!--&lt;!&ndash;</small>&ndash;&gt;-->
                            <!--</div>-->
                        <!--</div>-->
                    </div>
                    <a class="btn btn-block"
                       ng-class="{'btn-orange':true}"
                       ng-click="create()"
                       style="margin-bottom:30px;margin-left:52px;margin-right:52px;width:auto;border-radius:0;">开始构建</a>
                </div>
            </div>
        </form>
    </div>
</div>


