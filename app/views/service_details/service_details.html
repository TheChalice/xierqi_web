<div id="services_detail">
    <div>
        <div class="panel panel-default" style="margin-bottom: 50px">
            <div class="panel-heading">
                <span class="panel-title">
                <i class="faa faa-cmd"></i>&nbsp;&nbsp;{{dc.metadata.name}}&nbsp;&nbsp;
                <span ng-if="dc.state == 'normal'" style="color: #55c45f;">运行中</span>
                </span>
                <a class="btn btn-gray pull-right" style=" padding: 5px 10px; margin-left: 15px; height:34px; width:36px" ng-click="delete()"><i class="fa fa-trash-o fa-lg"></i></a>
                <!--<a class="btn btn-block"-->
                <!--ng-disabled=dianbl-->
                <!--ng-class="{'btn-orange':dianl, 'btn-disabled': dianbl}"-->
                <!--ng-click="frm.$valid && create()">开始构建</a>-->
                <a class="btn pull-right" ng-show="dc.state != 'normal'" ng-class="{'btn-green':startBtn.dianl, 'btn-orange': startBtn.dianlz}" ng-disabled=startBtn.dianlz ng-click="startDc()">{{startBtn.name}}</a>
                <a class="btn pull-right" ng-show="dc.state == 'normal'" ng-class="{'btn-green':stopBtn.dianl, 'btn-orange': stopBtn.dianlz}" ng-disabled=stopBtn.dianlz ng-click="stopDc()">{{stopBtn.name}}</a>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-sm-4">
                        <div class="media media-sm">
                            <div class="media-left">
                                <i class="faa faa-clock"></i>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">创建时间</h4>
                                <small style="color: #5a6378;" uib-tooltip="{{dc.metadata.creationTimestamp | timescon}}">{{dc.metadata.creationTimestamp | dateRelative}}</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="media media-sm">
                            <div class="media-left">
                                <i class="faa faa-code"></i>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">路由URL</h4>
                                <small>
                                    <a class="href-orange text-overflow" ng-if="dc.state == 'normal'" href="http://{{dc.route.spec.host}}" target="_blank">{{dc.route.spec.host}}</a>
                                    <a class="href-orange text-overflow" style="color: #5B6177;cursor: no-drop;" ng-if="dc.state !== 'normal'" target="_blank">{{dc.route.spec.host}}</a>
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="media media-sm">
                            <div class="media-left">
                                <i class="faa faa-pod"></i>
                            </div>
                            <div class="media-body">
                                <h4 class="media-heading">pod个数(正常/期望)</h4>
                                <small><span style="color: #f6a540">{{dc.status.replicas}}</span>/{{dc.spec.replicas}}</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- /middle-header-->
        <div class="middle-content" persist-tab-state>
            <div class="container-fluid">
                <div class="row" ng-if="service">
                    <div class="col-md-12">
                        <uib-tabset>
                            <uib-tab active="selectedTab.details">
                                <uib-tab-heading>Details</uib-tab-heading>
                                <div class="resource-details">
                                    <dl class="dl-horizontal left">
                                        <dt>Selectors:</dt>
                                        <dd>
                                            <span ng-if="!service.spec.selector"><em>none</em></span>
                                            <span ng-repeat="(selectorLabel, selectorValue) in service.spec.selector"> {{selectorLabel}}={{selectorValue}}<span ng-show="!$last">, </span></span>
                                        </dd>
                                        <dt>Type:</dt>
                                        <dd>{{service.spec.type}}</dd>
                                        <dt>IP:</dt>
                                        <dd>{{service.spec.clusterIP}}</dd>
                                        <dt>Hostname:</dt>
                                        <dd>
                                            {{service.metadata.name}}.{{service.metadata.namespace}}.svc
                                            <span data-toggle="popover" data-trigger="hover" data-content="{{'This address is only resolvable from within the cluster.'}}" style="cursor: help; padding-left: 5px;">
                          <span class="pficon pficon-info" aria-hidden="true" data-toggle="tooltip" style="cursor: help;"></span>
                                            </span>
                                        </dd>
                                        <dt ng-if-start="service.spec.externalName">External Hostname:</dt>
                                        <dd ng-if-end>{{service.spec.externalName}}</dd>
                                        <dt>Session affinity:</dt>
                                        <dd>{{service.spec.sessionAffinity}}</dd>
                                        <dt ng-if-start="service.status.loadBalancer.ingress.length">Ingress Points:</dt>
                                        <dd ng-if-end>
                                            <span ng-repeat="ingress in service.status.loadBalancer.ingress">{{ingress.ip}}<span ng-if="!$last">, </span></span>
                                        </dd>
                                        <dt ng-if-start="service.spec.externalIPs.length">External IPs:</dt>
                                        <dd ng-if-end>
                                            <span ng-repeat="externalIP in service.spec.externalIPs">{{externalIP}}<span ng-if="!$last">, </span></span>
                                        </dd>
                                        {{routesForService}}
                                        <dt ng-if-start="(routesForService | hashSize) == 0">Routes:</dt>
                                        <dd ng-if-end>
                                            <span>
                          <a ng-href="project/{{project.metadata.name}}/create-route?service={{service.metadata.name}}"  ng-if="'routes' | canI : 'create'">Create route</a>
                          <span ng-if="!('routes' | canI : 'create')"><em>None</em></span>
                                            </span>
                                        </dd>
                                    </dl>
                                    <h3>Traffic</h3>
                                    <div>
                                        <traffic-table ports-by-route="portsByRoute" routes="routesForService" services="services" show-node-ports="showNodePorts" custom-name-header="'Route'"></traffic-table>
                                    </div>
                                    <p>
                                        Learn more about <a ng-href="{{'route-types' | helpLink}}" target="_blank">routes</a> and <a ng-href="{{'services' | helpLink}}" target="_blank">services</a>.
                                    </p>
                                    <h3>Pods</h3>
                                    {{podsForService}}{{podsWithEndpoints}}{{podFailureReasons}}
                                    <div>
                                        <pods-table pods="podsForService" active-pods="podsWithEndpoints" custom-name-header="'Pod'" pod-failure-reasons="podFailureReasons"></pods-table>
                                    </div>
                                    <annotations annotations="service.metadata.annotations"></annotations>
                                </div>
                            </uib-tab>
                            <uib-tab active="selectedTab.events" ng-if="'events' | canI : 'watch'">
                                <uib-tab-heading>Events</uib-tab-heading>
                                <events api-objects="[ service ]" project-context="projectContext" ng-if="selectedTab.events"></events>
                            </uib-tab>
                        </uib-tabset>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>